{
  "id": "frontend-react-components",
  "name": "react-components",
  "description": "Build reusable React components with best practices",
  "category": "Frontend",
  "content": "---\nname: react-components\ndescription: Build reusable React components\ncategory: Frontend\n---\n\n# React Components\n\n## Overview\nBuild reusable, maintainable React components following best practices and modern patterns.\n\n## Activation\nActivates when user mentions \"React component\", \"reusable component\", \"component design\", \"props\", \"React patterns\", or \"component architecture\".\n\n## Instructions\n\n### Component Principles\n1. **Single Responsibility**: One component, one purpose\n2. **Composition over Inheritance**: Build from smaller parts\n3. **Props Down, Events Up**: Clear data flow\n4. **Controlled vs Uncontrolled**: Choose intentionally\n5. **Sensible Defaults**: Work out of the box\n\n### File Structure\n```\ncomponents/\n  Button/\n    Button.tsx\n    Button.test.tsx\n    Button.stories.tsx\n    index.ts\n```\n\n## Examples\n\n**Complete Reusable Button:**\n```tsx\nimport { forwardRef, ButtonHTMLAttributes, ReactNode } from 'react';\nimport { cva, VariantProps } from 'class-variance-authority';\nimport { Loader2 } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline: 'border border-input bg-background hover:bg-accent',\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  loading?: boolean;\n  leftIcon?: ReactNode;\n  rightIcon?: ReactNode;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, loading, leftIcon, rightIcon, children, disabled, ...props }, ref) => {\n    return (\n      <button\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        disabled={disabled || loading}\n        {...props}\n      >\n        {loading ? (\n          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n        ) : leftIcon ? (\n          <span className=\"mr-2\">{leftIcon}</span>\n        ) : null}\n        {children}\n        {rightIcon && <span className=\"ml-2\">{rightIcon}</span>}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n```\n\n**Compound Component Pattern:**\n```tsx\nimport { createContext, useContext, useState, ReactNode } from 'react';\n\ninterface AccordionContextType {\n  openItems: string[];\n  toggle: (id: string) => void;\n}\n\nconst AccordionContext = createContext<AccordionContextType | null>(null);\n\nfunction useAccordion() {\n  const context = useContext(AccordionContext);\n  if (!context) throw new Error('useAccordion must be used within Accordion');\n  return context;\n}\n\nexport function Accordion({ children, multiple = false }: { children: ReactNode; multiple?: boolean }) {\n  const [openItems, setOpenItems] = useState<string[]>([]);\n\n  const toggle = (id: string) => {\n    setOpenItems((prev) => {\n      if (prev.includes(id)) {\n        return prev.filter((item) => item !== id);\n      }\n      return multiple ? [...prev, id] : [id];\n    });\n  };\n\n  return (\n    <AccordionContext.Provider value={{ openItems, toggle }}>\n      <div className=\"divide-y\">{children}</div>\n    </AccordionContext.Provider>\n  );\n}\n\nexport function AccordionItem({ id, children }: { id: string; children: ReactNode }) {\n  return <div data-accordion-item={id}>{children}</div>;\n}\n\nexport function AccordionTrigger({ id, children }: { id: string; children: ReactNode }) {\n  const { openItems, toggle } = useAccordion();\n  const isOpen = openItems.includes(id);\n\n  return (\n    <button\n      onClick={() => toggle(id)}\n      className=\"flex w-full items-center justify-between py-4 font-medium\"\n      aria-expanded={isOpen}\n    >\n      {children}\n      <ChevronDown className={cn('h-4 w-4 transition-transform', isOpen && 'rotate-180')} />\n    </button>\n  );\n}\n\nexport function AccordionContent({ id, children }: { id: string; children: ReactNode }) {\n  const { openItems } = useAccordion();\n  const isOpen = openItems.includes(id);\n\n  if (!isOpen) return null;\n  return <div className=\"pb-4\">{children}</div>;\n}\n\n// Usage\n<Accordion multiple>\n  <AccordionItem id=\"1\">\n    <AccordionTrigger id=\"1\">Section 1</AccordionTrigger>\n    <AccordionContent id=\"1\">Content 1</AccordionContent>\n  </AccordionItem>\n</Accordion>\n```\n\n**Generic Data Table:**\n```tsx\ninterface Column<T> {\n  key: keyof T;\n  header: string;\n  render?: (value: T[keyof T], row: T) => ReactNode;\n  sortable?: boolean;\n}\n\ninterface DataTableProps<T> {\n  data: T[];\n  columns: Column<T>[];\n  onRowClick?: (row: T) => void;\n  loading?: boolean;\n  emptyMessage?: string;\n}\n\nexport function DataTable<T extends { id: string | number }>({\n  data,\n  columns,\n  onRowClick,\n  loading,\n  emptyMessage = 'No data found',\n}: DataTableProps<T>) {\n  const [sortKey, setSortKey] = useState<keyof T | null>(null);\n  const [sortDir, setSortDir] = useState<'asc' | 'desc'>('asc');\n\n  const sortedData = useMemo(() => {\n    if (!sortKey) return data;\n    return [...data].sort((a, b) => {\n      const aVal = a[sortKey];\n      const bVal = b[sortKey];\n      const cmp = aVal < bVal ? -1 : aVal > bVal ? 1 : 0;\n      return sortDir === 'asc' ? cmp : -cmp;\n    });\n  }, [data, sortKey, sortDir]);\n\n  if (loading) return <TableSkeleton columns={columns.length} />;\n  if (data.length === 0) return <EmptyState message={emptyMessage} />;\n\n  return (\n    <table className=\"w-full\">\n      <thead>\n        <tr>\n          {columns.map((col) => (\n            <th\n              key={String(col.key)}\n              onClick={() => col.sortable && handleSort(col.key)}\n              className={cn(col.sortable && 'cursor-pointer hover:bg-muted')}\n            >\n              {col.header}\n              {sortKey === col.key && (sortDir === 'asc' ? ' ↑' : ' ↓')}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {sortedData.map((row) => (\n          <tr key={row.id} onClick={() => onRowClick?.(row)} className=\"hover:bg-muted/50\">\n            {columns.map((col) => (\n              <td key={String(col.key)}>\n                {col.render ? col.render(row[col.key], row) : String(row[col.key])}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n```",
  "prompt": "A skill for building React components",
  "createdAt": "2024-01-15T10:00:00.000Z",
  "published": true
}
