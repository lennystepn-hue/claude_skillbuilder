{
  "id": "productivity-snippets",
  "name": "Code Snippets & Templates",
  "description": "Reusable code snippets, boilerplates, and project templates for rapid development",
  "category": "Productivity",
  "content": "---\nname: Code Snippets & Templates\ndescription: Reusable code snippets, boilerplates, and project templates for rapid development\ncategory: Productivity\n---\n\n# Code Snippets & Templates\n\n## Overview\n\nThis skill provides a comprehensive library of reusable code snippets, boilerplates, and project templates for rapid development. It covers common patterns, utilities, and starting points for various frameworks and languages to accelerate development workflows.\n\n## Activation\n\nUse this skill when:\n- Starting a new project or feature\n- Need common utility functions\n- Setting up boilerplate code\n- Creating configuration files\n- Implementing standard patterns\n- Building reusable components\n- Setting up testing infrastructure\n- Creating API endpoints\n\n## Instructions\n\n### JavaScript/TypeScript Utilities\n\n#### 1. Array Utilities\n\n```javascript\n// Chunk array into smaller arrays\nconst chunk = (array, size) => {\n  return array.reduce((chunks, item, i) => {\n    if (i % size === 0) {\n      chunks.push([item]);\n    } else {\n      chunks[chunks.length - 1].push(item);\n    }\n    return chunks;\n  }, []);\n};\n\n// Remove duplicates\nconst unique = (array) => [...new Set(array)];\n\n// Group by property\nconst groupBy = (array, key) => {\n  return array.reduce((result, item) => {\n    const group = typeof key === 'function' ? key(item) : item[key];\n    (result[group] = result[group] || []).push(item);\n    return result;\n  }, {});\n};\n\n// Shuffle array\nconst shuffle = (array) => {\n  const copy = [...array];\n  for (let i = copy.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [copy[i], copy[j]] = [copy[j], copy[i]];\n  }\n  return copy;\n};\n\n// Flatten nested array\nconst flatten = (array) => array.flat(Infinity);\n\n// Find intersection\nconst intersection = (arr1, arr2) => {\n  const set = new Set(arr2);\n  return arr1.filter(item => set.has(item));\n};\n\n// Find difference\nconst difference = (arr1, arr2) => {\n  const set = new Set(arr2);\n  return arr1.filter(item => !set.has(item));\n};\n\n// Sample random element\nconst sample = (array) => array[Math.floor(Math.random() * array.length)];\n\n// Partition array by condition\nconst partition = (array, predicate) => {\n  return array.reduce(\n    ([pass, fail], item) => {\n      return predicate(item) \n        ? [[...pass, item], fail] \n        : [pass, [...fail, item]];\n    },\n    [[], []]\n  );\n};\n```\n\n#### 2. Object Utilities\n\n```javascript\n// Deep clone\nconst deepClone = (obj) => JSON.parse(JSON.stringify(obj));\n\n// Deep merge\nconst deepMerge = (target, ...sources) => {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  \n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        deepMerge(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n  \n  return deepMerge(target, ...sources);\n};\n\nconst isObject = (item) => {\n  return item && typeof item === 'object' && !Array.isArray(item);\n};\n\n// Pick properties\nconst pick = (obj, keys) => {\n  return keys.reduce((result, key) => {\n    if (key in obj) result[key] = obj[key];\n    return result;\n  }, {});\n};\n\n// Omit properties\nconst omit = (obj, keys) => {\n  const keysToRemove = new Set(keys);\n  return Object.keys(obj).reduce((result, key) => {\n    if (!keysToRemove.has(key)) result[key] = obj[key];\n    return result;\n  }, {});\n};\n\n// Get nested property safely\nconst get = (obj, path, defaultValue = undefined) => {\n  const keys = path.split('.');\n  let result = obj;\n  \n  for (const key of keys) {\n    result = result?.[key];\n    if (result === undefined) return defaultValue;\n  }\n  \n  return result;\n};\n\n// Set nested property\nconst set = (obj, path, value) => {\n  const keys = path.split('.');\n  const lastKey = keys.pop();\n  const target = keys.reduce((o, k) => o[k] = o[k] || {}, obj);\n  target[lastKey] = value;\n  return obj;\n};\n\n// Is empty object\nconst isEmpty = (obj) => {\n  return Object.keys(obj).length === 0;\n};\n```\n\n#### 3. String Utilities\n\n```javascript\n// Capitalize first letter\nconst capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\n// Convert to camelCase\nconst toCamelCase = (str) => {\n  return str\n    .replace(/[-_\\s]+(.)?/g, (_, char) => char ? char.toUpperCase() : '')\n    .replace(/^(.)/, (char) => char.toLowerCase());\n};\n\n// Convert to snake_case\nconst toSnakeCase = (str) => {\n  return str\n    .replace(/([A-Z])/g, '_$1')\n    .toLowerCase()\n    .replace(/^_/, '');\n};\n\n// Convert to kebab-case\nconst toKebabCase = (str) => {\n  return str\n    .replace(/([a-z])([A-Z])/g, '$1-$2')\n    .replace(/[\\s_]+/g, '-')\n    .toLowerCase();\n};\n\n// Truncate string\nconst truncate = (str, length, suffix = '...') => {\n  return str.length > length ? str.substring(0, length) + suffix : str;\n};\n\n// Slugify\nconst slugify = (str) => {\n  return str\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n};\n\n// Generate random string\nconst randomString = (length = 10) => {\n  return Math.random().toString(36).substring(2, 2 + length);\n};\n\n// Template string\nconst template = (str, data) => {\n  return str.replace(/\\{(\\w+)\\}/g, (match, key) => data[key] || match);\n};\n```\n\n#### 4. Async Utilities\n\n```javascript\n// Sleep/delay\nconst sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\n// Retry with exponential backoff\nconst retry = async (fn, options = {}) => {\n  const {\n    maxAttempts = 3,\n    delay = 1000,\n    backoff = 2,\n    onRetry = () => {}\n  } = options;\n  \n  let lastError;\n  \n  for (let attempt = 1; attempt <= maxAttempts; attempt++) {\n    try {\n      return await fn();\n    } catch (error) {\n      lastError = error;\n      \n      if (attempt < maxAttempts) {\n        const waitTime = delay * Math.pow(backoff, attempt - 1);\n        onRetry(error, attempt, waitTime);\n        await sleep(waitTime);\n      }\n    }\n  }\n  \n  throw lastError;\n};\n\n// Timeout promise\nconst timeout = (promise, ms, message = 'Timeout') => {\n  return Promise.race([\n    promise,\n    new Promise((_, reject) => \n      setTimeout(() => reject(new Error(message)), ms)\n    )\n  ]);\n};\n\n// Debounce\nconst debounce = (func, wait) => {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\n\n// Throttle\nconst throttle = (func, limit) => {\n  let inThrottle;\n  return function(...args) {\n    if (!inThrottle) {\n      func.apply(this, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n};\n\n// Memoize\nconst memoize = (fn) => {\n  const cache = new Map();\n  return (...args) => {\n    const key = JSON.stringify(args);\n    if (cache.has(key)) return cache.get(key);\n    const result = fn(...args);\n    cache.set(key, result);\n    return result;\n  };\n};\n\n// Batch promises\nconst batchPromises = async (items, batchSize, fn) => {\n  const results = [];\n  for (let i = 0; i < items.length; i += batchSize) {\n    const batch = items.slice(i, i + batchSize);\n    const batchResults = await Promise.all(batch.map(fn));\n    results.push(...batchResults);\n  }\n  return results;\n};\n```\n\n#### 5. Validation Utilities\n\n```javascript\n// Email validation\nconst isValidEmail = (email) => {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n};\n\n// URL validation\nconst isValidUrl = (url) => {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// Phone validation (US)\nconst isValidPhone = (phone) => {\n  const re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/;\n  return re.test(phone);\n};\n\n// Credit card validation (Luhn algorithm)\nconst isValidCreditCard = (cardNumber) => {\n  const digits = cardNumber.replace(/\\D/g, '');\n  let sum = 0;\n  let isEven = false;\n  \n  for (let i = digits.length - 1; i >= 0; i--) {\n    let digit = parseInt(digits[i]);\n    \n    if (isEven) {\n      digit *= 2;\n      if (digit > 9) digit -= 9;\n    }\n    \n    sum += digit;\n    isEven = !isEven;\n  }\n  \n  return sum % 10 === 0;\n};\n\n// Check if object has required keys\nconst hasRequiredKeys = (obj, requiredKeys) => {\n  return requiredKeys.every(key => key in obj && obj[key] !== undefined);\n};\n```\n\n### React Snippets\n\n#### 1. Custom Hooks\n\n```javascript\n// useLocalStorage\nimport { useState, useEffect } from 'react';\n\nfunction useLocalStorage(key, initialValue) {\n  const [value, setValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n  \n  useEffect(() => {\n    try {\n      window.localStorage.setItem(key, JSON.stringify(value));\n    } catch (error) {\n      console.error(error);\n    }\n  }, [key, value]);\n  \n  return [value, setValue];\n}\n\n// useFetch\nfunction useFetch(url, options = {}) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  useEffect(() => {\n    let isMounted = true;\n    \n    async function fetchData() {\n      try {\n        setLoading(true);\n        const response = await fetch(url, options);\n        if (!response.ok) throw new Error(response.statusText);\n        const json = await response.json();\n        if (isMounted) setData(json);\n      } catch (err) {\n        if (isMounted) setError(err);\n      } finally {\n        if (isMounted) setLoading(false);\n      }\n    }\n    \n    fetchData();\n    \n    return () => {\n      isMounted = false;\n    };\n  }, [url]);\n  \n  return { data, loading, error };\n}\n\n// useDebounce\nfunction useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  \n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    \n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n  \n  return debouncedValue;\n}\n\n// useWindowSize\nfunction useWindowSize() {\n  const [size, setSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  \n  useEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  \n  return size;\n}\n\n// useToggle\nfunction useToggle(initialValue = false) {\n  const [value, setValue] = useState(initialValue);\n  const toggle = () => setValue(v => !v);\n  return [value, toggle];\n}\n\n// usePrevious\nfunction usePrevious(value) {\n  const ref = useRef();\n  \n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  \n  return ref.current;\n}\n```\n\n#### 2. Common Components\n\n```javascript\n// ErrorBoundary\nimport React from 'react';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n  \n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n  \n  componentDidCatch(error, errorInfo) {\n    console.error('Error caught by boundary:', error, errorInfo);\n  }\n  \n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback || (\n        <div>\n          <h1>Something went wrong.</h1>\n          <p>{this.state.error?.message}</p>\n        </div>\n      );\n    }\n    \n    return this.props.children;\n  }\n}\n\n// ProtectedRoute\nimport { Navigate } from 'react-router-dom';\n\nfunction ProtectedRoute({ children, isAuthenticated, redirectTo = '/login' }) {\n  return isAuthenticated ? children : <Navigate to={redirectTo} replace />;\n}\n\n// Portal\nimport { createPortal } from 'react-dom';\n\nfunction Portal({ children, target = document.body }) {\n  return createPortal(children, target);\n}\n\n// LazyImage\nfunction LazyImage({ src, alt, placeholder, ...props }) {\n  const [imageSrc, setImageSrc] = useState(placeholder);\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => {\n      setImageSrc(src);\n      setLoading(false);\n    };\n  }, [src]);\n  \n  return (\n    <img \n      src={imageSrc} \n      alt={alt} \n      {...props}\n      className={`${props.className} ${loading ? 'loading' : ''}`}\n    />\n  );\n}\n```\n\n### Node.js/Express Snippets\n\n#### 1. Middleware\n\n```javascript\n// Error handler middleware\nfunction errorHandler(err, req, res, next) {\n  console.error(err.stack);\n  \n  const statusCode = err.statusCode || 500;\n  const message = err.message || 'Internal Server Error';\n  \n  res.status(statusCode).json({\n    error: {\n      message,\n      ...(process.env.NODE_ENV === 'development' && { stack: err.stack })\n    }\n  });\n}\n\n// Async handler wrapper\nconst asyncHandler = (fn) => (req, res, next) => {\n  Promise.resolve(fn(req, res, next)).catch(next);\n};\n\n// Request logger\nfunction requestLogger(req, res, next) {\n  const start = Date.now();\n  \n  res.on('finish', () => {\n    const duration = Date.now() - start;\n    console.log(`${req.method} ${req.path} ${res.statusCode} ${duration}ms`);\n  });\n  \n  next();\n}\n\n// Rate limiter\nconst rateLimit = (options = {}) => {\n  const { windowMs = 60000, max = 100 } = options;\n  const requests = new Map();\n  \n  return (req, res, next) => {\n    const key = req.ip;\n    const now = Date.now();\n    const windowStart = now - windowMs;\n    \n    // Clean old entries\n    const userRequests = requests.get(key) || [];\n    const recentRequests = userRequests.filter(time => time > windowStart);\n    \n    if (recentRequests.length >= max) {\n      return res.status(429).json({ error: 'Too many requests' });\n    }\n    \n    recentRequests.push(now);\n    requests.set(key, recentRequests);\n    next();\n  };\n};\n\n// CORS middleware\nfunction cors(options = {}) {\n  const {\n    origin = '*',\n    methods = 'GET,POST,PUT,DELETE,OPTIONS',\n    allowedHeaders = 'Content-Type,Authorization'\n  } = options;\n  \n  return (req, res, next) => {\n    res.header('Access-Control-Allow-Origin', origin);\n    res.header('Access-Control-Allow-Methods', methods);\n    res.header('Access-Control-Allow-Headers', allowedHeaders);\n    \n    if (req.method === 'OPTIONS') {\n      return res.sendStatus(200);\n    }\n    \n    next();\n  };\n}\n\n// Authentication middleware\nfunction authenticate(req, res, next) {\n  const token = req.headers.authorization?.split(' ')[1];\n  \n  if (!token) {\n    return res.status(401).json({ error: 'No token provided' });\n  }\n  \n  try {\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n    req.user = decoded;\n    next();\n  } catch (error) {\n    res.status(401).json({ error: 'Invalid token' });\n  }\n}\n```\n\n#### 2. API Response Helpers\n\n```javascript\n// Response utilities\nclass ApiResponse {\n  static success(res, data, statusCode = 200) {\n    return res.status(statusCode).json({\n      success: true,\n      data\n    });\n  }\n  \n  static error(res, message, statusCode = 400) {\n    return res.status(statusCode).json({\n      success: false,\n      error: { message }\n    });\n  }\n  \n  static paginated(res, data, page, limit, total) {\n    return res.json({\n      success: true,\n      data,\n      pagination: {\n        page,\n        limit,\n        total,\n        pages: Math.ceil(total / limit)\n      }\n    });\n  }\n}\n\n// Usage in routes\napp.get('/api/users', async (req, res) => {\n  const users = await User.find();\n  return ApiResponse.success(res, users);\n});\n```\n\n### Configuration Files\n\n#### 1. TypeScript Configuration\n\n```json\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"ES2020\"],\n    \"outDir\": \"./dist\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"resolveJsonModule\": true,\n    \"moduleResolution\": \"node\",\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"baseUrl\": \"./src\",\n    \"paths\": {\n      \"@/*\": [\"*\"],\n      \"@utils/*\": [\"utils/*\"],\n      \"@models/*\": [\"models/*\"]\n    }\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"dist\", \"**/*.test.ts\"]\n}\n```\n\n#### 2. ESLint Configuration\n\n```json\n// .eslintrc.json\n{\n  \"env\": {\n    \"browser\": true,\n    \"es2021\": true,\n    \"node\": true\n  },\n  \"extends\": [\n    \"eslint:recommended\",\n    \"plugin:@typescript-eslint/recommended\",\n    \"plugin:react/recommended\",\n    \"plugin:react-hooks/recommended\",\n    \"prettier\"\n  ],\n  \"parser\": \"@typescript-eslint/parser\",\n  \"parserOptions\": {\n    \"ecmaFeatures\": {\n      \"jsx\": true\n    },\n    \"ecmaVersion\": 12,\n    \"sourceType\": \"module\"\n  },\n  \"plugins\": [\"@typescript-eslint\", \"react\"],\n  \"rules\": {\n    \"no-console\": \"warn\",\n    \"no-unused-vars\": \"off\",\n    \"@typescript-eslint/no-unused-vars\": [\"error\"],\n    \"@typescript-eslint/explicit-module-boundary-types\": \"off\",\n    \"react/react-in-jsx-scope\": \"off\",\n    \"react/prop-types\": \"off\"\n  },\n  \"settings\": {\n    \"react\": {\n      \"version\": \"detect\"\n    }\n  }\n}\n```\n\n#### 3. Prettier Configuration\n\n```json\n// .prettierrc\n{\n  \"semi\": true,\n  \"trailingComma\": \"es5\",\n  \"singleQuote\": true,\n  \"printWidth\": 80,\n  \"tabWidth\": 2,\n  \"useTabs\": false,\n  \"arrowParens\": \"always\",\n  \"endOfLine\": \"lf\"\n}\n```\n\n#### 4. Package.json Scripts\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"nodemon src/index.ts\",\n    \"build\": \"tsc\",\n    \"start\": \"node dist/index.js\",\n    \"test\": \"jest --coverage\",\n    \"test:watch\": \"jest --watch\",\n    \"lint\": \"eslint src/**/*.ts\",\n    \"lint:fix\": \"eslint src/**/*.ts --fix\",\n    \"format\": \"prettier --write \\\"src/**/*.{ts,tsx,js,jsx,json,md}\\\"\",\n    \"type-check\": \"tsc --noEmit\",\n    \"clean\": \"rm -rf dist\",\n    \"prepare\": \"husky install\"\n  }\n}\n```\n\n## Examples\n\n### Example 1: Express API Boilerplate\n\n```javascript\n// src/index.js\nimport express from 'express';\nimport helmet from 'helmet';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport routes from './routes';\nimport { errorHandler, notFound } from './middleware/error';\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Middleware\napp.use(helmet());\napp.use(cors());\napp.use(morgan('combined'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Health check\napp.get('/health', (req, res) => {\n  res.json({ status: 'ok', timestamp: new Date().toISOString() });\n});\n\n// Routes\napp.use('/api', routes);\n\n// Error handling\napp.use(notFound);\napp.use(errorHandler);\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`Server running on port ${PORT}`);\n});\n\nexport default app;\n```\n\n### Example 2: React Context Provider Template\n\n```javascript\n// contexts/AuthContext.jsx\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst AuthContext = createContext(null);\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    // Check for existing session\n    const checkAuth = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          const response = await fetch('/api/auth/me', {\n            headers: { Authorization: `Bearer ${token}` }\n          });\n          const data = await response.json();\n          setUser(data);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    checkAuth();\n  }, []);\n  \n  const login = async (email, password) => {\n    const response = await fetch('/api/auth/login', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    });\n    const data = await response.json();\n    localStorage.setItem('token', data.token);\n    setUser(data.user);\n    return data;\n  };\n  \n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n  };\n  \n  const value = {\n    user,\n    loading,\n    login,\n    logout,\n    isAuthenticated: !!user\n  };\n  \n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n  return context;\n}\n```\n\nThese snippets and templates provide production-ready starting points for common development tasks.",
  "prompt": "A skill that provides a comprehensive library of reusable code snippets, boilerplates, and templates including JavaScript/TypeScript utilities, React hooks and components, Node.js/Express middleware, configuration files, and project templates for rapid development.",
  "createdAt": "2024-01-15T10:00:00.000Z",
  "published": true
}
