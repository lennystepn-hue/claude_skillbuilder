{
  "id": "testing-coverage",
  "name": "coverage-improver",
  "description": "Identify and fill gaps in test coverage",
  "category": "Testing",
  "content": "---\nname: coverage-improver\ndescription: When the user wants to improve test coverage\ncategory: Testing\n---\n\n# Coverage Improver\n\n## Overview\nAnalyze code to identify untested paths and generate missing tests.\n\n## Activation\nActivates when user mentions \"coverage\", \"untested code\", or \"missing tests\".\n\n## Instructions\n\n1. Analyze the code for:\n   - Uncovered branches (if/else)\n   - Uncovered functions\n   - Error handling paths\n   - Edge cases\n\n2. Generate tests for:\n   - Each uncovered branch\n   - Error scenarios\n   - Boundary conditions\n\n## Examples\n\n**Input:** \"improve coverage for this function\"\n```javascript\nfunction processOrder(order) {\n  if (!order) throw new Error('Order required');\n  if (order.items.length === 0) return { total: 0 };\n  \n  let total = order.items.reduce((sum, i) => sum + i.price, 0);\n  \n  if (order.coupon) {\n    total *= (1 - order.coupon.discount);\n  }\n  \n  return { total: Math.max(0, total) };\n}\n```\n\n**Output:**\n```javascript\ndescribe('processOrder', () => {\n  // Happy path\n  it('calculates total for items', () => {\n    const order = { items: [{ price: 10 }, { price: 20 }] };\n    expect(processOrder(order)).toEqual({ total: 30 });\n  });\n\n  // Branch: no order\n  it('throws when order is null', () => {\n    expect(() => processOrder(null)).toThrow('Order required');\n  });\n\n  // Branch: empty items\n  it('returns 0 for empty items', () => {\n    expect(processOrder({ items: [] })).toEqual({ total: 0 });\n  });\n\n  // Branch: with coupon\n  it('applies coupon discount', () => {\n    const order = { items: [{ price: 100 }], coupon: { discount: 0.2 } };\n    expect(processOrder(order)).toEqual({ total: 80 });\n  });\n\n  // Edge: total goes negative\n  it('returns 0 minimum total', () => {\n    const order = { items: [{ price: 10 }], coupon: { discount: 2 } };\n    expect(processOrder(order)).toEqual({ total: 0 });\n  });\n});\n```",
  "prompt": "A skill that improves test coverage",
  "createdAt": "2024-01-15T10:00:00.000Z",
  "published": true
}